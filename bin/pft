#!/usr/bin/perl

=head1 NAME

pft - Static blog and website manager

=head1 SYNOPSYS

pft <command> [options]

=head1 AVAILABLE COMMANDS

Here follows a list of available commands:

=over

=item *
B<blog> Create a new blog entry

=item *
B<page> Create a new page

=item *
B<build> Build the website

=back

For options of a specific command I<cmd> use C<pft I<cmd> --help>

=cut



use strict;
use warnings;

use Pod::Usage;
use App::PFT::Cmd::Blog;
use File::Basename qw/basename/;
use feature qw/say/;

my %COMMANDS = (
    blog => \&App::PFT::Cmd::Blog::main,
);

unless(@ARGV) {
    my $p = basename $0;
    say 'Usage:';
    say "  $p --help";
    say "  $p $_ [options]" foreach keys %COMMANDS;
    exit 1;
}

my $command = shift @ARGV;

if ($command eq '-h' || $command eq '--help') {
    pod2usage -exitval => 1, -verbose => 2;
}

my $call = $COMMANDS{$command} or die "Unknown command $command"; 

$call->();
